import{a as P,b as C}from "./chunk-ULSCS6NB.js";import{Na as m,Ra as h,ja as p,w as u,x as s,y as d,z as f}from "./chunk-WBJK5ZQV.js";import"./chunk-ILE44FN6.js";import{a as c}from "./chunk-GAL4ENT6.js";function y(n){var e;return n.childCount<=1&&!((e=n.firstChild)!=null&&e.content.size)}function b(n, e){let{selection:r}=n;if(!r.empty)return null;let o=r.$anchor,t=o.parent;if(t.content.size>0||p(g=>g.type.name==="table")(o))return null;let a=o.before();return d.node(a,a+t.nodeSize,{class:"crepe-placeholder","data-placeholder":e})}var i=h({text:"Please enter...",mode:"block"},"placeholderConfigCtx"),x=m(n=>new u({key:new s("CREPE_PLACEHOLDER"),props:{decorations: e=>{var r;let o=n.get(i.key);if(o.mode==="doc"&&!y(e.doc)||P(e.selection)||C(e.selection))return null;let t=(r=o.text)!=null?r:"Please enter...",l=b(e,t);return l?f.create(e.doc,[l]):null}}})),L=(n, e)=>{n.config(r=>{e&&r.update(i.key, o=>c(c({},o),e))}).use(x).use(i)};export{L as defineFeature,i as placeholderConfig,x as placeholderPlugin};
